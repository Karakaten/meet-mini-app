<!DOCTYPE html><html lang="ru"><head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–ó–∞—è–≤–∫–∞ –Ω–∞ –≤—Å—Ç—Ä–µ—á—É</title>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <style>
    * { box-sizing: border-box; font-family: -apple-system, sans-serif; }
    body { margin: 0; background: linear-gradient(160deg, #5b2b82, #2b2b2b); color: #fff; min-height: 100vh; display: flex; justify-content: center; align-items: center; padding: 20px; }
    .card { background: #1f1f1f; border-radius: 20px; padding: 24px; width: 100%; max-width: 380px; box-shadow: 0 20px 40px rgba(0,0,0,0.4); text-align: center; }
    input { width: 100%; padding: 14px; margin-top: 12px; border-radius: 12px; border: none; font-size: 16px; background: #333; color: #fff; }
    .formats { display: flex; gap: 10px; margin-top: 16px; flex-wrap: wrap; }
    .format-btn { flex: 1; padding: 12px; border-radius: 14px; background: #333; border: 2px solid transparent; color: #fff; cursor: pointer; min-width: 80px; }
    .format-btn.active { border-color: #a855f7; background: #3b1b5a; }
    .submit { margin-top: 20px; width: 100%; padding: 14px; border-radius: 14px; border: none; background: #a855f7; color: #fff; font-size: 16px; font-weight: bold; cursor: pointer; }
    .submit:disabled { opacity: 0.3; }
  </style>
</head>
<body>
  <div class="card">
    <h1>üíú –ó–∞–ø—Ä–æ—Å –ª–µ–≥–µ–Ω–¥–µ</h1>
    <p>–ó–∞–ø–æ–ª–Ω–∏ –≤—Å—ë, —á—Ç–æ–±—ã —è –ø–æ–¥—É–º–∞–ª...</p>
    <input id="name" placeholder="üë§ –¢–≤–æ–µ –∏–º—è" />
    <input id="date" placeholder="üìÖ –ö–æ–≥–¥–∞ (–¥–µ–Ω—å, –≤—Ä–µ–º—è)" />
    <div class="formats">
      <button class="format-btn" data-format="üç∫ –ü–∏–≤–æ">üç∫ –ü–∏–≤–æ</button>
      <button class="format-btn" data-format="üè† –í –≥–æ—Å—Ç–∏">üè† –í –≥–æ—Å—Ç–∏</button>
      <button class="format-btn" data-format="üö® –°—Ä–æ—á–Ω–æ">üö® –°—Ä–æ—á–Ω–æ</button>
    </div>
    <button class="submit" id="submit" disabled>–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É üöÄ</button>
  </div>

  <script>
    const tg = window.Telegram.WebApp;
    tg.expand();

    // –¢–í–û–ò –î–ê–ù–ù–´–ï (–í–°–¢–ê–í–¨ –°–í–û–ô –¢–û–ö–ï–ù –¢–£–¢)
    const BOT_TOKEN = '8522129872:AAGAIJn9K05673T86y4boB8drP8MYwwNCN4';
    const MY_ID = '269547089';

    let selectedFormat = null;
    const buttons = document.querySelectorAll('.format-btn');
    const submitBtn = document.getElementById('submit');

    buttons.forEach(btn => {
      btn.addEventListener('click', () => {
        buttons.forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        selectedFormat = btn.dataset.format;
        checkReady();
      });
    });

    document.querySelectorAll('input').forEach(i => i.addEventListener('input', checkReady));

    function checkReady() {
      const name = document.getElementById('name').value;
      const date = document.getElementById('date').value;
      submitBtn.disabled = !(name && date && selectedFormat);
    }

    submitBtn.addEventListener('click', async () => {
      const name = document.getElementById('name').value;
      const date = document.getElementById('date').value;
      const user = tg.initDataUnsafe?.user?.username || "–±–µ–∑ –Ω–∏–∫–∞";
      
      const message = `üì© **–ù–û–í–ê–Ø –ó–ê–Ø–í–ö–ê!**\n\nüë§ –û—Ç: ${name} (@${user})\nüìÖ –ö–æ–≥–¥–∞: ${date}\nüìç –§–æ—Ä–º–∞—Ç: ${selectedFormat}`;
      
      submitBtn.innerText = "–û—Ç–ø—Ä–∞–≤–ª—è—é...";
      submitBtn.disabled = true;

      
    try {
        const response = await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ 
            chat_id: MY_ID, 
            text: message, 
            parse_mode: 'Markdown' 
          })
        });
        
        if (!response.ok) {
           const errorData = await response.json();
           alert("–û—à–∏–±–∫–∞ –±–æ—Ç–∞: " + errorData.description);
        } else {
           tg.close();
        }
      } catch (e) {
        alert("–°–µ—Ç–µ–≤–∞—è –æ—à–∏–±–∫–∞: " + e.message);
        submitBtn.innerText = "–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É üöÄ";
        submitBtn.disabled = false;
      }
  </script>
</body></html>
